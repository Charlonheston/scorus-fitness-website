---
/**
 * Componente para inyectar Schema.org Structured Data
 * Usa @graph para múltiples schemas según especificación de Schema.org
 */

export interface Props {
  schema: Record<string, any> | Record<string, any>[];
}

const { schema } = Astro.props;

// Si es un array, usar @graph para agrupar múltiples schemas
const schemaData = Array.isArray(schema) 
  ? {
      '@context': 'https://schema.org',
      '@graph': schema
    }
  : schema;

// Serializar el schema a JSON-LD
const schemaJSON = JSON.stringify(schemaData, null, 2);
---

<script is:inline type="application/ld+json" set:html={schemaJSON}></script>

